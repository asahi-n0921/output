webpackJsonp(["loader.Typeahead"],{"/SMD":function(e,t,n){"use strict";var r=n("IfHf"),a=n("R6lU");t.__esModule=!0,t.default=void 0,n("SU+a");var o=a(n("86MP")),i=a(n("fKPv")),s=a(n("Mpbj")),c=a(n("/Btz")),u=a(n("thTC")),l=a(n("B4q1")),d=a(n("0Ynt")),p=a(n("fQFk")),f=a(n("jYKd")),h=(n("KSGD"),r(n("GiK3"))),m=a(n("MjES")),y=(a(n("5nt5")),function(e){function t(){return e.apply(this,arguments)||this}(0,o.default)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.accessibilityLabel,n=e.compact,r=e.onClick,a=e.selected,o=e.style,i=e.text,c=this._renderIcon(),u=[_.root,n&&_.compact,a&&_.selected,o],l=d.default.generate({backgroundColor:a?f.default.theme.colors.primary:"transparent",color:a?f.default.theme.colors.white:f.default.theme.colors.primary});return h.default.createElement(p.default,{accessibilityLabel:t,interactiveStyles:l,onPress:r,style:u},h.default.createElement(m.default,{style:_.content},h.default.createElement(s.default,{color:a?"white":"primary",selectable:!1},i),c))},n._renderIcon=function(){var e=this.props,t=e.mode,n=e.selected,r=[_.icon,n&&_.iconSelected];switch(t){case"remove":return h.default.createElement(u.default,{style:r});case"expand":return h.default.createElement(l.default,{style:r});case"active":return h.default.createElement(c.default,{style:r});default:return null}},t}(h.PureComponent));(0,i.default)(y,"defaultProps",{compact:!1,selected:!1}),y.propTypes={};var _=f.default.create(function(e){return{root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.primary,borderRadius:e.borderRadii.infinite,borderStyle:"solid",borderWidth:"1px",minHeight:e.spaces.xLarge,paddingHorizontal:e.spaces.medium},content:{alignItems:"center",flexDirection:"row",flexGrow:1,flexWrap:"nowrap"},compact:{minHeight:e.spaces.large,paddingHorizontal:e.spaces.small},selected:{backgroundColor:e.colors.primary},icon:{color:e.colors.primary,marginLeft:e.spaces.xxSmall},iconSelected:{color:e.colors.white}}}),v=y;t.default=v},"2rH5":function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n("uDYd"),a=(n.n(r),n("n12u")),o=(n.n(a),n("fx22")),i=(n.n(o),n("WgSQ")),s=(n.n(i),n("YVn/")),c=(n.n(s),n("klNu"),function(e,t){return void 0===e&&(e={}),Object.values(e).reduce(function(e,n){var r=n.user_id,a=t[r]||{id_str:r};return e[r]=Object.assign({},n,{user:a}),e},{})}),u=function(e,t){var n=t.entries;return(t.entryIdsByConversationId[e]||[]).map(function(e){return n[e]&&n[e].data}).filter(function(e){return!!e})},l=function(e,t,n){void 0===e&&(e={});var r=e,a=r.conversation_id,o=r.participants;return Object.assign({},e,{entries:t.entryIdsByConversationId[a]||[],participants:c(o,n)})},d=function(e,t,n){void 0===e&&(e={});var r=e,a=r.conversation_id,o=r.participants;return Object.assign({},e,{entries:u(a,t),participants:c(o,n)})}},"7c4V":function(e,t,n){"use strict";t.d=function(e,t){var n,r,a=l.b.scoper.find(function(r){if(-1!==r.srcInputs.indexOf(t))return n=e.match(r.regexp)});n&&(r=n&&(1===n.length?n[0]:n[1]));return a?Object.assign({},Object.assign(a.scope,{src:t})||{},{q:r}):null},t.c=function(e,t){var n=t.slice(0,e),r=t.slice(e,t.length),a=n.search(l.b.WordEnd),o=a>=0?n.slice(a):"",i=r.slice(0,r.search(l.b.WordBoundary)),s=o+i;if(!s.trim())return{leftBoundary:e,rightBoundary:e,word:""};return{start:a,word:s}},t.f=function(e,t,n){var r="_on"+(n||t),a="on"+t;return function(){(function(){return e[r].apply(e,arguments)}).apply(void 0,arguments)&&function(){return(e.props.children.props[a]||function(){}).apply(void 0,arguments)}.apply(void 0,arguments)}},t.b=function(){return"typeaheadFocus-"+Math.random()},t.e=function(e){var t=e.altKey,n=e.ctrlKey,r=e.metaKey;return!(t||n||r)},t.a=function(e,t){var n=[];e.forEach(function(e){var r=t.find(function(t){return t.id===e.id});r&&r.data&&r.data.result_context?n.push(r):n.push(e)});var r=n.map(function(e){return e.id}),o=t.filter(function(e){return r.indexOf(e.id)<0});return[].concat(n,a()(o))};var r=n("rzQm"),a=n.n(r),o=n("fx22"),i=(n.n(o),n("qwQ3")),s=(n.n(i),n("n12u")),c=(n.n(s),n("MfeA")),u=(n.n(c),n("WpTh")),l=(n.n(u),n("905J"))},"905J":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("BC0Q"),a=n.n(r),o=500,i={scoper:[{type:"dmUserSearch",regexp:/^[@＠]?(.*)|^$/,srcInputs:["compose_message"],scope:{result_type:"users",count:20}},{type:"username",regexp:/^[@＠](\w{1,20})/,srcInputs:["compose"],scope:{result_type:"users",count:20}},{type:"hashtag",regexp:a.a,srcInputs:["compose"],scope:{result_type:"topics",count:20}},{type:"topic",regexp:/(.+)/,srcInputs:["search_box"],scope:{result_type:"topics,users"}},{type:"ttt",regexp:/(.+)/,srcInputs:["welcome_flow"],scope:{count:10,result_type:"topics,ttt"}}],WordBoundary:/[!'%&'()*+,\\\-.\/:;<=>?[\]^{|}~\s]|$/,WordEnd:/[^!'%&'()*+,\\\-.\/:;<=>?[\]^{|}~\s]+$/}},"93uc":function(e,t,n){"use strict";var r=n("R6lU");t.__esModule=!0,t.default=void 0,n("n12u"),n("SU+a");var a=r(n("lt8z")),o=r(n("Z8+c")),i=r(n("86MP")),s=r(n("M1I4")),c=r(n("fKPv")),u=r(n("GiK3")),l=r(n("Mpbj")),d=r(n("fF1d")),p=r(n("bMWu")),f=r(n("jYKd")),h=r(n("VQs0")),m=r(n("3niV")),y=r(n("MjES")),_=(n("KSGD"),"pill"),v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,(0,c.default)((0,s.default)((0,s.default)(t)),"_blurOnBackspaceKeyUpForKaiOS",!1),(0,c.default)((0,s.default)((0,s.default)(t)),"state",{isFocused:!1}),(0,c.default)((0,s.default)((0,s.default)(t)),"getContainerStyle",function(){var e=t.props,n=e.styleType,r=e.multiline,a=e.invalid,o=t.state.isFocused;return n===_?[!a&&!o&&g.transparent,!o&&C.fadedGrayColor,!r&&b.infinite,C.root,a&&g.invalid,!a&&o&&g.focused,o&&C.transparentColor,r&&b.round]:[g.none,C.root,C.fadedGrayColor]}),(0,c.default)((0,s.default)((0,s.default)(t)),"_handleBlur",function(e){var n=t.props.onBlur;t.setState({isFocused:!1}),n&&n(e)}),(0,c.default)((0,s.default)((0,s.default)(t)),"_handleClear",function(e){t.props.focusOnClear&&t.focus(),t._textInput&&t._textInput.clear()}),(0,c.default)((0,s.default)((0,s.default)(t)),"_handleChange",function(e){var n=t.props.onChange;t.setState({isFocused:!0}),n&&n(e)}),(0,c.default)((0,s.default)((0,s.default)(t)),"_handleFocus",function(e){var n=t.props.onFocus;t.setState({isFocused:!0}),n&&n(e)}),(0,c.default)((0,s.default)((0,s.default)(t)),"_handleKeyPress",function(e){var n=t.props,r=n.multiline,a=n.onKeyPress,o=n.onSubmitEditing;a&&a(e),e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||r||!o||(e.preventDefault(),o(e))}),(0,c.default)((0,s.default)((0,s.default)(t)),"_handleKeyDown",function(e){var n=t.props.onKeyDown,r=0===t.getValue().length;m.default.isKaiOS()&&"Backspace"===e.key&&r?t._blurOnBackspaceKeyUpForKaiOS=r:n&&n(e)}),(0,c.default)((0,s.default)((0,s.default)(t)),"_handleKeyUp",function(e){var n=t.props.onKeyUp;m.default.isKaiOS()&&"Backspace"===e.key&&t._blurOnBackspaceKeyUpForKaiOS&&(e.preventDefault(),t.blur()),n&&n(e)}),(0,c.default)((0,s.default)((0,s.default)(t)),"_setTextInputRef",function(e){t._textInput=e}),(0,c.default)((0,s.default)((0,s.default)(t)),"_setRichTextInputRef",function(e){t._richTextInput=e}),t}(0,i.default)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.appTextSize,n=e.onLayout,r=e.renderCloseButton,a=e.renderEmojiPicker,o=e.renderContentAbove,i=e.renderContentBelow,s=e.editable,c=e.style,d=e.richTextInputContext,p=e.withClearButton;return u.default.createElement(y.default,{onBlur:this._handleBlur,onFocus:this._handleFocus,onLayout:n,style:[this.getContainerStyle(),!s&&C.disabled,c]},o&&o(),u.default.createElement(y.default,{style:C.textInput},this._renderIcon(),u.default.createElement(l.default,{size:t,style:C.appText},d?this._renderRichTextInput():this._renderTextInput()),u.default.createElement(y.default,{style:[E.root,a&&E.withEmojiPicker]},r&&this._renderCloseButton(),a&&this._renderEmojiPicker(),p&&this._renderClearButton())),i&&i())},n._renderIcon=function(){var e=this.props,t=e.Icon,n=e.iconStyle,r=this.state.isFocused,a=[I.root,r&&I.focused,n];return t?u.default.createElement(y.default,{style:E.leftIcon},u.default.createElement(t,{style:a})):null},n._renderTextInput=function(){var e=this.props,t=(e.Icon,e.appTextSize,e.focusOnClear,e.handleReturn,e.iconStyle,e.inputStyle),n=(e.invalid,e.keyCommandHandlers,e.onLayout,e.onSubmitEditing,e.renderCloseButton,e.renderContentAbove,e.renderContentBelow,e.renderEmojiPicker,e.richTextInputContext,e.style,e.styleType,e.withClearButton,(0,o.default)(e,["Icon","appTextSize","focusOnClear","handleReturn","iconStyle","inputStyle","invalid","keyCommandHandlers","onLayout","onSubmitEditing","renderCloseButton","renderContentAbove","renderContentBelow","renderEmojiPicker","richTextInputContext","style","styleType","withClearButton"]));return u.default.createElement(u.default.Fragment,null,m.default.isEdge()?u.default.createElement("style",null,"input[type=text]::-ms-clear { display: none; }"):null,u.default.createElement(h.default,(0,a.default)({},n,{onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,placeholderTextColor:f.default.theme.colors.deepGray,ref:this._setTextInputRef,style:[S.root,t]})))},n._renderRichTextInput=function(){var e=this.props,t=e.ariaAutocomplete,n=e.ariaControls,r=e.ariaActiveDescendant,a=e.autoFocus,o=e.ariaLabel,i=e.inputStyle,s=e.keyCommandHandlers,c=e.numberOfLines,l=e.maxNumberOfLines,d=e.onFilesAdded,p=e.placeholder,f=e.positionCursorAtEnd,h=e.richTextInputContext,m=e.handleReturn,_=e.testID,v=h||{},b=v.dismissComposerCommandName,g=v.editorState,I=v.element,x=v.sendTweetCommandName,E=[S.root,S.rich];return I&&g?u.default.createElement(y.default,{style:[S.richContainer,i]},u.default.createElement(I,{ariaActiveDescendant:r,ariaAutocomplete:t,ariaControls:n,ariaLabel:o,autoFocus:a,dismissComposerCommandName:b,editorState:g,handleReturn:m,keyCommandHandlers:s,maxNumberOfLines:l,numberOfLines:c,onBlur:this._handleBlur,onChange:this._handleChange,onFilesAdded:d,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,placeholder:p,positionCursorAtEnd:f,ref:this._setRichTextInputRef,sendTweetCommandName:x,style:E,testID:_})):null},n._renderClearButton=function(){var e=u.default.createElement(d.default,{accessible:!1,icon:u.default.createElement(p.default,{style:x.icon}),onPress:this._handleClear,size:"smallCompact",style:x.root,type:"primary"});return this.getValue()?e:u.default.createElement(y.default,null)},n._renderEmojiPicker=function(){var e=this.props.renderEmojiPicker;return e?u.default.createElement(y.default,null,e&&e()):null},n._renderCloseButton=function(){var e=this.props.renderCloseButton;return e?u.default.createElement(y.default,{style:E.closeButton},e&&e()):null},n.applyFinalValue=function(e){var t=this;this.focus(),window.requestAnimationFrame(function(){t.blur(),e(t.getValue())})},n.blur=function(){this._richTextInput&&this._richTextInput.blur(),this._textInput&&this._textInput.blur()},n.focus=function(){this._richTextInput&&this._richTextInput.focus(),this._textInput&&this._textInput.focus()},n.getValue=function(){var e=this.props,t=e.richTextInputContext,n=e.value;return t?this._richTextInput&&this._richTextInput.value()||n||"":this._textInput&&this._textInput.getValue()||n||""},n.getTextInputHeight=function(){var e=this.props.richTextInputContext,t=2*parseInt(f.default.theme.spaces.xSmall,10),n=2*parseInt(f.default.theme.borderWidths.small,10);return e?this._richTextInput&&this._richTextInput.getOffsetHeight()+t+n:this._textInput&&this._textInput.getOffsetHeight()+n},t}(u.default.Component);t.default=v,(0,c.default)(v,"defaultProps",{appTextSize:"normal",autoComplete:"on",styleType:_,autoCorrect:!0,editable:!0,focusOnClear:!0,withClearButton:!1}),v.propTypes={};var b=f.default.create(function(e){return{infinite:{borderRadius:e.borderRadii.infinite},round:{borderRadius:"calc("+e.borderRadii.large+" + "+e.borderWidths.small+" * 2)"},none:{borderRadius:0}}}),g=f.default.create(function(e){return{transparent:{borderColor:e.colors.transparent,borderStyle:"solid",borderWidth:e.borderWidths.small},focused:{borderColor:e.colors.primary,borderStyle:"solid",borderWidth:e.borderWidths.small},invalid:{borderColor:e.colors.red,borderStyle:"solid",borderWidth:e.borderWidths.small},none:{borderWidth:0}}}),S=f.default.create(function(e){return{root:{backgroundColor:"transparent",borderRadius:0,borderWidth:0,boxSizing:"border-box",color:"inherit",outlineStyle:"none",fontFamily:"inherit",fontSize:"inherit",padding:e.spaces.xSmall,textAlign:"inherit"},richContainer:{width:"100%",padding:e.spaces.xSmall},rich:{padding:0}}}),I=f.default.create(function(e){return{root:{color:e.colors.deepGray,minWidth:e.spaces.large,paddingLeft:e.spaces.xSmall},focused:{color:e.colors.primary}}}),x=f.default.create(function(e){return{root:{borderWidth:0,marginRight:e.spaces.xxSmall},icon:{width:"10px",height:"10px",color:e.colors.cellBackground}}}),E=f.default.create(function(e){return{root:{display:"flex",justifyContent:"center"},withEmojiPicker:{display:"flex",justifyContent:"flex-end",flexDirection:"column"},closeButton:{flexGrow:1},leftIcon:{display:"flex",justifyContent:"center"}}}),C=f.default.create(function(e){return{root:{flexDirection:"column",flexGrow:1,flexShrink:1,justifyContent:"center"},disabled:{cursor:"default",opacity:.8},fadedGrayColor:{backgroundColor:e.colors.fadedGray},transparentColor:{backgroundColor:"transparent"},textInput:{flexDirection:"row"},appText:{display:"flex",flexGrow:1}}})},"98Tz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("VjuZ"),n("n12u"),n("MfeA"),n("UJiG");var r,a=n("lt8z"),o=n.n(a),i=n("86MP"),s=n.n(i),c=n("M1I4"),u=n.n(c),l=n("fKPv"),d=n.n(l),p=n("jH3T"),f=n.n(p),h=n("GiK3"),m=n("Ooal"),y=n("Z1LJ"),_=n("7t5w"),v={addQuery:m.a,scribeAction:_.c},b=Object(y.a)(v),g=n("bgPG"),S=n("XMIr"),I=n("zEXV"),x=n("C3D3"),E=n("DTUu"),C=n.n(E),w=n("9w+k"),R=n("sLaq"),D=n("bndy"),O=n("zAiL"),T=n("RqKo"),k=n.n(T),j=n("Dica"),A=n("d39v"),F=(n("y9m4"),n("ipg4")),P=n("y7g/"),N=n("IIth"),U={fetchStatus:O.a.NONE,savedSearches:[]},M=Object(N.a)("rweb/savedSearches","FETCH_SAVED_SEARCHES");function L(e,t){switch(void 0===e&&(e=U),t.type){case M.SUCCESS:return Object.assign({},e,{fetchStatus:O.a.LOADED,savedSearches:t.payload});case M.FAILURE:return Object.assign({},e,{fetchStatus:O.a.FAILED});default:return e}}F.a.register(((r={}).savedSearches=L,r));var K=Object(D.createSelector)(m.g,j.d.selectFetchStatuses,function(e,t){var n=e.map(function(e){return e.user}).filter(Boolean).map(function(e){return e.id});return k()(n.map(function(e){return{id:e,fetchStatus:t[e]}}),function(e){return e.fetchStatus})}),q=function(e){return Object(A.c)(e,A.a.GenericUserNotFound)||Object(A.c)(e,A.a.OtherUserSuspended)||Object(A.c)(e,A.a.AddressBookLookupNotFound)},B=Object(D.createSelector)(K,function(e){return(e[O.a.FAILED]||[]).map(function(e){return e.id})}),H=Object(D.createSelector)(K,j.d.selectErrors,function(e,t){return(e[O.a.FAILED]||[]).filter(function(e){var n=e.id;return q(t[n]||{})}).map(function(e){return e.id})}),G=Object(D.createSelector)(K,j.d.selectErrors,function(e,t){var n=(e[O.a.FAILED]||[]).filter(function(e){var n=e.id;return!q(t[n]||{})});return(e[O.a.LOADING]||[]).length>0?O.a.LOADING:(e[O.a.LOADED]||[]).length>0?O.a.LOADED:n.length>0?O.a.FAILED:O.a.NONE}),W={clearAll:m.b,createLocalApiErrorHandler:Object(R.b)("RECENT_SEARCH_ONE_CLICK"),fetchRecentSearchesIfNeeded:m.c,fetchSavedSearchesIfNeeded:function(){return function(e,t,n){n.api;var r=t();return Object(P.e)(r)?function(e){return e.savedSearches.fetchStatus}(r)===O.a.LOADED?Promise.resolve():e(function(e,t,n){var r=n.api;return Object(N.b)(e,{request:r.SavedSearches.fetch,params:{}})({actionTypes:M,context:"FETCH_SAVED_SEARCHES"})}):Promise.resolve()}},fetchUsersIfNeeded:j.d.fetchManyIfNeeded,removeQuery:m.d,scribeAction:_.c},V=Object(D.createSelector)(m.e,m.g,G,H,B,function(e){return e.savedSearches.savedSearches},function(e,t,n,r,a,o){var i=!t.filter(function(e){var t=e.user;return t&&r.indexOf(t.id)<0}).length,s=n!==O.a.LOADING&&e&&i?O.a.LOADED:n;return{failedUserIds:a,invalidUserIds:r,isLoaded:e,items:t,fetchStatus:s,savedSearches:o}}),Q=Object(y.e)(V,W),z=n("3f1i"),Y=n("Y2tT"),J=n("O27J"),X=n.n(J),Z=(n("SU+a"),n("C9uT")),$=n.n(Z),ee=n("thTC"),te=n.n(ee),ne=n("OCMv"),re=n.n(ne),ae=n("kOX1"),oe=n("MjES"),ie=n.n(oe),se=n("Mpbj"),ce=n.n(se),ue=n("fF1d"),le=n.n(ue),de=n("J0Ct"),pe=n.n(de),fe=n("jYKd"),he=n.n(fe),me=n("4dTx"),ye=n.n(me),_e=h.createElement(te.a,null),ve=f.a.ef65abf0,be=function(e){function t(){return e.apply(this,arguments)||this}return s()(t,e),t.prototype.render=function(){var e=this.props,t=e.query,n=e.onRemove;return h.createElement(pe.a,{style:ge.root,withGutter:!0},h.createElement(ie.a,{style:ge.avatarColumn},h.createElement(re.a,{style:{color:ye.a.colors.deepGray}})),h.createElement(ie.a,{style:ge.bodyColumn},h.createElement(ce.a,{numberOfLines:1,withHashflags:!0},t)),h.createElement(le.a,{accessibilityLabel:ve,icon:_e,onPress:n,size:"small",type:"text"}))},$()(t,[{key:"recentSearchData",get:function(){return{query:this.props.query,type:ae.a.Keyword}}}]),t}(h.Component),ge=he.a.create(function(e){return{root:{alignItems:"center"},avatarColumn:{flexGrow:1,justifyContent:"flex-start",minWidth:32,maxWidth:e.spaces.xxLarge},bodyColumn:{flexGrow:7,justifyContent:"center"}}}),Se=be,Ie=(n("EuXz"),Object(D.createSelector)(function(e,t){return j.d.select(e,t.id)},function(e){return{user:e}})),xe=Object(y.b)(Ie),Ee=n("hUoQ"),Ce=n("tQ79"),we=n.n(Ce),Re=h.createElement(te.a,null),De=f.a.ef65abf0,Oe=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.props.onRef;e&&e(this)},n.componentWillUnmount=function(){var e=this.props.onRef;e&&e(void 0)},n.componentDidUpdate=function(e){var t=this.props.onRef;e.onRef&&e.onRef!==t&&e.onRef(void 0),t&&t!==e.onRef&&t(this)},n.render=function(){var e=this.props,t=e.user,n=e.onRemove;return t?h.createElement(pe.a,{style:Te.root,withGutter:!0},h.createElement(ie.a,{style:Te.avatarColumn},h.createElement(we.a,{importantForAccessibility:"no-hide-descendants",style:Te.avatar,uri:t.profile_image_url_https})),h.createElement(ie.a,{style:Te.bodyColumn},h.createElement(ie.a,{style:Te.body},h.createElement(Ee.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,screenName:t.screen_name,withStackedLayout:!0}))),h.createElement(le.a,{accessibilityLabel:De,icon:Re,onPress:n,size:"small",type:"text"})):null},$()(t,[{key:"recentSearchData",get:function(){return this.props.user?{link:this.props.user.screen_name,query:this.props.id,type:ae.a.User}:null}}]),t}(h.Component),Te=he.a.create(function(e){return{root:{alignItems:"center"},avatarColumn:{flexGrow:1,justifyContent:"flex-start",minWidth:32,maxWidth:e.spaces.xxLarge},bodyColumn:{flexGrow:7,justifyContent:"center"},closeIcon:{alignItems:"flex-end",flexGrow:1,justifyContent:"center"},avatar:{display:"block",width:"100%"},body:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}}}),ke=xe(Oe),je=n("H/mk"),Ae=n.n(je),Fe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,d()(u()(u()(t)),"_renderSearchItem",function(){var e=t.props.item;return e.keyword?h.createElement(Se,{onRemove:t._handleOnRemove,query:e.keyword.query,ref:t._handleItemRef}):e.user?h.createElement(ke,{id:e.user.id||"",onRef:t._handleItemRef,onRemove:t._handleOnRemove}):null}),d()(u()(u()(t)),"_handleItemRef",function(e){t._itemRef=e}),d()(u()(u()(t)),"_handleOnRemove",function(e){var n=t.props;(0,n.onRemoveQuery)(n.item,n.index),e.stopPropagation()}),d()(u()(u()(t)),"_handleOnClick",function(){var e=t.props,n=e.onItemClick,r=e.index;t.recentSearchData&&n(t.recentSearchData,r)}),t}s()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onRef&&this.props.onRef(this)},n.componentWillUnmount=function(){this.props.onRef&&this.props.onRef(void 0)},n.componentDidUpdate=function(e){var t=this.props.onRef;t&&t!==e.onRef&&t(this)},n.render=function(){var e=this.props.domId;return h.createElement(Ae.a,{accessibilityRole:"option",accessible:!0,"aria-selected":!!e,nativeID:e,onClick:this._handleOnClick,style:[Pe.root,e&&Pe.focused]},this._renderSearchItem())},$()(t,[{key:"recentSearchData",get:function(){return this._itemRef&&this._itemRef.recentSearchData}}]),t}(h.Component),Pe=he.a.create(function(e){return{root:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:1,cursor:"pointer",paddingHorizontal:e.spaces.xSmall,paddingVertical:e.spaces.small},focused:{backgroundColor:e.colors.faintGray}}}),Ne=Fe,Ue=n("WgQH"),Me=n("o5RB"),Le=f.a.fb55413d,Ke=f.a.a280e2df,qe=f.a.d5924f36,Be=f.a.h0c3f102,He=15,Ge=f.a.f7f1f584,We=function(e){return e.map(function(e){return e.user}).filter(Boolean).map(function(e){return e.id})},Ve=function(e){function t(t){var n;return n=e.call(this,t)||this,d()(u()(u()(n)),"_getDisplayItems",function(){var e=n.props,t=e.failedUserIds,r=e.items.filter(function(e){var n=e.user;return!n||t.indexOf(n.id)<0});return r.length>He?r.slice(0,He):r}),d()(u()(u()(n)),"_render",function(){var e=n.props,t=e.domId,r=e.savedSearches,a=n._getDisplayItems();return 0===a.length?h.createElement(ie.a,{style:[Qe.emptyState]},h.createElement(ce.a,{align:"center",color:"deepGray"},Le)):h.createElement(ie.a,null,h.createElement(ie.a,{style:Qe.header},h.createElement(ce.a,{numberOfLines:1,size:"large",weight:"bold"},Ke),h.createElement(le.a,{onPress:n._handleOnClick,size:"small",type:"text"},Be)),h.createElement(ie.a,{accessibilityRole:"listbox",nativeID:t},a.map(function(e,t){return n._renderRecentSearchItem(e,t)})),n._savedSearchesEnabled&&r.length>0?h.createElement(h.Fragment,null,h.createElement(ie.a,{style:Qe.header},h.createElement(ce.a,{numberOfLines:1,size:"large",weight:"bold"},qe)),h.createElement(ie.a,null,n._renderSavedSearches())):null)}),d()(u()(u()(n)),"_renderSavedSearches",function(){var e=n.props.savedSearches;return h.createElement(ie.a,null,e.map(function(e,t){var r={keyword:{type:ae.a.Keyword,query:e.query}};return h.createElement(Ne,{index:t,item:r,key:e.id_str,onItemClick:n._handleOnItemClick,onRemoveQuery:n._handleRemoveQuery})}))}),d()(u()(u()(n)),"_handleUsersRetry",function(){n._fetchUsersIfNeeded()}),d()(u()(u()(n)),"_handleOnClick",function(){n.setState({shouldShowConfirmationSheet:!0})}),d()(u()(u()(n)),"_handleRemoveQuery",function(e,t){var r=n.props,a=r.removeQuery,o=r.scribeAction,i=r.scribeNamespace;a(e),n._resetFocus();var s=Ue.a.forRecentSearchResult(e,t),c=e.user?"clear_user":"clear_topic";s&&o(Object.assign({},i,{action:c}),{items:[s]})}),d()(u()(u()(n)),"_handleOnConfirm",function(){var e=n.props,t=e.scribeAction,r=e.scribeNamespace;n.props.clearAll(),t(Object.assign({},r,{action:"clear_all"})),n.setState({shouldShowConfirmationSheet:!1})}),d()(u()(u()(n)),"_handleOnCancel",function(){n.setState({shouldShowConfirmationSheet:!1})}),d()(u()(u()(n)),"_renderRecentSearchItem",function(e,t){var r=n.props.ariaDescendantId,a=n.state.focusIndex===t,o=e.keyword?"keyword_"+e.keyword.query:e.user?"user_"+e.user.id:""+t;return h.createElement(Ne,{domId:a?r:void 0,index:t,item:e,key:o,onItemClick:n._handleOnItemClick,onRemoveQuery:n._handleRemoveQuery,ref:a?n._setFocusedItemRef:void 0})}),d()(u()(u()(n)),"_handleOnItemClick",function(e,t){var r=n.props,a=r.onDismiss;(0,r.onItemClick)(e,t),n._scribeClick(e,t),a&&a()}),d()(u()(u()(n)),"_setFocusedItemRef",function(e){n._focusedItemRef=e,n._shouldScrollToFocusedItem&&(Object(Me.c)(n._getScrollParent(),n._getFocusedItem()),n._shouldScrollToFocusedItem=!1)}),d()(u()(u()(n)),"hasFocusedItem",function(){return n._getDisplayItems().length>0}),d()(u()(u()(n)),"selectFocusedItem",function(){if(n.hasFocusedItem()){var e=n._focusedItemRef&&n._focusedItemRef.recentSearchData;e&&n._handleOnItemClick(e,n.state.focusIndex)}}),d()(u()(u()(n)),"_scribeResults",function(){var e=n.props,t=e.items,r=e.scribeAction,a=e.scribeNamespace,o=C()(t.map(function(e,t){return Ue.a.forRecentSearchResult(e,t)}));r(Object.assign({},a,{action:"impression"}),{items:o})}),d()(u()(u()(n)),"_scribeClick",function(e,t){var r,a=n.props,o=a.scribeAction,i=a.scribeNamespace;switch(e.type){case ae.a.User:r={user:{type:ae.a.User,id:e.query}};break;case ae.a.Keyword:r={keyword:{type:ae.a.Keyword,query:e.query}}}var s=r&&Ue.a.forRecentSearchResult(r,t);s&&o(Object.assign({},i,{action:"click"}),{targets:[s]})}),d()(u()(u()(n)),"_setFocusIndex",function(e,t){var r=n.props.onItemFocusChanged;n._shouldScrollToFocusedItem=t,n.setState({focusIndex:e}),r&&r()}),d()(u()(u()(n)),"_resetFocus",function(){n._setFocusIndex(-1)}),d()(u()(u()(n)),"focusNext",function(){var e=n.state.focusIndex,t=n.props.items.length;if(0!==t){var r=e+1>=t?0:e+1;n._setFocusIndex(r,!0)}}),d()(u()(u()(n)),"focusPrevious",function(){var e=n.state.focusIndex,t=n.props.items.length;if(0!==t){var r=e-1<0?t-1:e-1;n._setFocusIndex(r,!0)}}),d()(u()(u()(n)),"_fetchUsersIfNeeded",function(){var e=n.props,t=e.fetchUsersIfNeeded,r=e.createLocalApiErrorHandler,a=e.items,o=e.invalidUserIds;t(We(a).filter(function(e){return o.indexOf(e)<0})).catch(r({}))}),n.state={focusIndex:0,shouldShowConfirmationSheet:!1},n._savedSearchesEnabled=z.a.isTrue("responsive_web_saved_search_enabled"),n}s()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.fetchRecentSearchesIfNeeded,n=e.fetchSavedSearchesIfNeeded,r=e.items,a=e.onRef;a&&a(this),t(),this._fetchUsersIfNeeded(),this._savedSearchesEnabled&&n(),r&&r.length&&(this._scribeResults(),this._resetFocus())},n.componentDidUpdate=function(e){var t=this.props,n=t.items,r=t.onRef;e.items!==n&&(this._fetchUsersIfNeeded(),this._resetFocus(),n&&n.length&&this._scribeResults()),e.onRef&&e.onRef!==r&&e.onRef(void 0),r&&r!==e.onRef&&r(this)},n.componentWillUnmount=function(){this.props.onRef&&this.props.onRef(void 0)},n.render=function(){var e=this.props,t=e.style,n=e.fetchStatus;return h.createElement(ie.a,{style:t},h.createElement(Y.a,{fetchStatus:n,onRequestRetry:this._handleUsersRetry,render:this._render}),this.state.shouldShowConfirmationSheet?h.createElement(w.a,{onCancel:this._handleOnCancel,onConfirm:this._handleOnConfirm,text:Ge}):null)},n._getScrollParent=function(){if(!this._scrollParent){var e=Object(Me.a)(X.a.findDOMNode(this));this._scrollParent=e===window?null:e}return this._scrollParent},n._getFocusedItem=function(){var e=this._focusedItemRef&&X.a.findDOMNode(this._focusedItemRef);return e instanceof Element?e:null},t}(h.Component),Qe=he.a.create(function(e){return{emptyState:{padding:e.spaces.xSmall,paddingTop:e.spaces.medium},header:{alignItems:"center",borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:1,flexDirection:"row",justifyContent:"space-between",padding:e.spaces.xSmall,paddingTop:e.spaces.medium}}}),ze=Object(g.b)({element:"typeahead"})(Q(Ve)),Ye="SearchBox_Search_Input",Je=n("R8Av"),Xe=n("jy84"),Ze=n("6PFH");n.d(t,"SearchBoxContainer",function(){return ot});var $e=f.a.f2b908ed,et=f.a.ad7f8447,tt=f.a.j7de856a,nt=/^(\w+)$/,rt=[Ze.a.Events,Ze.a.Users,Ze.a.Topics],at=function(e){return"@"===e[0]?e.substring(1):e},ot=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,d()(u()(u()(r)),"_renderSearchBoxEmptyState",function(e){return h.createElement(ze,o()({},e,{onItemClick:r._handleRecentSearchItemClick}))}),d()(u()(u()(r)),"_handleRecentSearchItemClick",function(e){var t=e.link,n=e.query,a=e.type,o=r.props.addQuery;a===ae.a.Keyword?r._submitQuery({query:n,shouldAddToRecentSearch:!0,src:x.a.RecentSearchClick}):t&&(r._routeTransition({pathname:"/"+t}),o({user:{id:n,type:ae.a.User}}))}),d()(u()(u()(r)),"_handleSearchShortcut",function(e){var t=r._inputRef;t&&(e&&t.setQuery(e),t.focus())}),d()(u()(u()(r)),"_getTopicExactMatch",function(e){var t=e.query,n=e.hasResults,r=e.isLoaded;return n||!r?void 0:{id:t+"_no_result_topic",type:Ze.b.NoResult,data:{text:et({query:t}),type:"topic"}}}),d()(u()(u()(r)),"_getUserExactMatch",function(e){var t=e.query,n=(e.hasResults,e.isLoaded,at(t));if(n.match(nt))return{id:t+"_no_result_user",type:Ze.b.NoResult,data:{text:tt({screenName:n}),type:"user"}}}),d()(u()(u()(r)),"_handleOnDismiss",function(){var e=r.props.history,t=e.location,n=t.state||{};if(n.searchFocused){var a=Object.assign({},t,{state:Object.assign({},n,{lockScroll:!1,searchFocused:!1})});e.replace(a)}}),d()(u()(u()(r)),"_handleOnFocus",function(){var e=r.props,t=e.history,n=e.scribeAction,a=e.scribeNamespace,o=t.location,i=o.state||{};if(!i.searchFocused){var s=Object.assign({},o,{state:Object.assign({},i,{searchFocused:!0,lockScroll:!0})});n(Object.assign({},a,{action:"focus_field"})),t.push(s)}}),d()(u()(u()(r)),"_handleChange",function(e){r.setState({query:e,querySubmitted:!1})}),d()(u()(u()(r)),"_handleTypeaheadSubmit",function(e){var t=r.state.query;/^\s*$/.test(t)||r._submitQuery({query:t,shouldAddToRecentSearch:!0})}),d()(u()(u()(r)),"_handleItemClick",function(e,t){var n=r.props.addQuery,a=r.state.query;switch(e.type){case Ze.b.User:if(e.data.id_str)n({user:{id:e.data.id_str,type:ae.a.User}});r._routeTransition({pathname:"/"+e.data.screen_name});break;case Ze.b.Topic:case Ze.b.Hashtag:r._submitQuery({query:e.data.topic,shouldAddToRecentSearch:!0,src:x.a.TypeaheadClick});break;case Ze.b.Event:e.data&&e.data.url?r._routeTransition({pathname:I.b.parseInternalUrl(e.data.url)}):r._submitQuery({query:e.data.topic,src:x.a.TypeaheadClick});break;case Ze.b.NoResult:var o=e.data.type;"user"===o?r._routeTransition({pathname:"/"+at(a)}):"topic"===o&&r._submitQuery({query:a,shouldAddToRecentSearch:!0,src:x.a.TypeaheadClick})}}),d()(u()(u()(r)),"_routeTransition",function(e){var t=e.pathname,n=e.query,a=e.params,o=e.src,i=r.props,s=i.history,c=i.location,u=Object.assign({},c,{pathname:t,search:"",query:a||(n?{q:n,src:o}:{}),state:Object.assign({},c.state,{searchFocused:!1,lockScroll:!1})});s.replace(u)}),d()(u()(u()(r)),"_submitQuery",function(e){var t=e.query,n=e.shouldAddToRecentSearch,a=void 0!==n&&n,o=e.src,i=void 0===o?x.a.Typed:o,s=r.props,c=s.addQuery,u=s.mode,l=s.onSubmit,d=s.searchFilters,p=s.searchRoute;(l&&l(t,i),a)&&c({keyword:{query:t,type:ae.a.Keyword}});var f=Object(ae.d)({query:t,querySrc:i,mode:u,searchFilters:d});r._routeTransition({pathname:p,params:f,src:i}),r.setState({querySubmitted:!0})}),d()(u()(u()(r)),"_setInputRef",function(e){r._inputRef=e}),r.state={query:t.initialValue,querySubmitted:!0},r}s()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.props,t=e.location,n=e.shouldHandleSearchShortcut,r=(t.state||{}).searchFocused;this._autoFocus=!!r,n&&(this._unregisterSearchShortcutHandler=S.a.registerSearchShortcutHandler(this._handleSearchShortcut))},n.componentWillUnmount=function(){this._unregisterSearchShortcutHandler&&this._unregisterSearchShortcutHandler()},n.UNSAFE_componentWillReceiveProps=function(e){this.props.initialValue!==e.initialValue&&this.setState({query:e.initialValue,querySubmitted:!0})},n.UNSAFE_componentWillUpdate=function(){var e=this.props,t=e.history,n=e.initialValue,r=(t.location.state||{}).searchFocused,a=this.state,o=a.query,i=a.querySubmitted;r||o===n||i||this.setState({query:n,querySubmitted:!0})},n.render=function(){var e=this.props,t=e.location,n=e.placeholder,r=this.state.query,a=(t.state||{}).searchPrefill,o=this.props.initialValue||a;return h.createElement(ie.a,{style:it.root},h.createElement(Je.default,{filter:rt,getTopicExactMatch:r?this._getTopicExactMatch:void 0,getUserExactMatch:r?this._getUserExactMatch:void 0,initialValue:o,inputStyle:it.input,onDismiss:this._handleOnDismiss,onFocus:this._handleOnFocus,onItemClick:this._handleItemClick,onQueryChange:this._handleChange,onSubmit:this._handleTypeaheadSubmit,placeholder:n,ref:this._setInputRef,renderEmptyState:this._renderSearchBoxEmptyState,rounded:!0,shouldAutoFocus:this._autoFocus,shouldClearOnSelect:!0,shouldDeferPrefetch:!0,source:Ze.d.SearchBox,testID:Ye,withFixedPositioning:!0,withFocusStyling:!0}))},t}(h.Component);d()(ot,"defaultProps",{initialValue:"",placeholder:$e,searchRoute:"/search"});var it=he.a.create(function(e){return{root:{alignItems:"stretch",flexBasis:0,flexDirection:"row",flexGrow:1},input:{flexShrink:1}}});t.default=Object(Xe.a)(Object(g.b)({component:"search_box"})(b(ot)))},ADUO:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o});var r={ONE_TO_ONE:"ONE_TO_ONE",GROUP:"GROUP_DM"},a={AT_END:"AT_END",HAS_MORE:"HAS_MORE"},o={CONVERSATION_AVATAR_UPDATE:"conversation_avatar_update",CONVERSATION_NAME_UPDATE:"conversation_name_update",CONVERSATION_READ:"conversation_read",DISABLE_NOTIFICATIONS:"disable_notifications",ENABLE_NOTIFICATIONS:"enable_notifications",JOIN_CONVERSATION:"join_conversation",MARK_ALL_AS_READ:"mark_all_as_read",MENTION_NOTIFICATIONS_UPDATE:"mention_notifications_setting_update",MESSAGE:"message",MESSAGE_DELETE:"message_delete",MESSAGE_MARK_AS_NOT_SPAM:"message_unmark_as_spam",MESSAGE_MARK_AS_SPAM:"message_mark_as_spam",PARTICIPANTS_JOIN:"participants_join",PARTICIPANTS_LEAVE:"participants_leave",REMOVE_CONVERSATION:"remove_conversation",TRUST_CONVERSATION:"trust_conversation",WELCOME_MESSAGE:"welcome_message_create"}},B4q1:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var r=i(n("x5lS")),a=i(n("GiK3")),o=i(n("sT3W"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M19.75 11H13V4.25c0-.553-.447-1-1-1s-1 .447-1 1V11H4.25c-.553 0-1 .447-1 1s.447 1 1 1H11v6.75c0 .553.447 1 1 1s1-.447 1-1V13h6.75c.553 0 1-.447 1-1s-.447-1-1-1z"})))};s.metadata={height:24,width:24};var c=s;t.default=c},BNgD:function(e,t,n){"use strict";n.d(t,"b",function(){return y});var r=n("fx22"),a=(n.n(r),n("WgSQ")),o=(n.n(a),n("tJwI")),i=(n.n(o),n("EuXz")),s=(n.n(i),n("jH3T")),c=n.n(s),u=n("ADUO"),l=n("sqR6"),d=u.a.GROUP,p=c.a.f99851d2,f=c.a.d41c718e,h=c.a.cab8984c,m=c.a.a559663d;t.a=function(e,t){var n=e.type,r=e.name,a=e.participants,o=void 0===a?{}:a;if(n===d&&r)return r;if(!Object.keys(o).length)return null;var i=Object(l.a)(e,t);return y(i,t,n)};var y=function(e,t,n){void 0===n&&(n=d);var r=e.map(function(e){return e.user}).filter(function(e){return e.id_str!==t}),a=r[0],o=r.slice(1);switch(r.length){case 0:return p;case 1:return n===d?f({name:a.name}):a.name;case 2:return h({name1:a.name,name2:o[0].name});default:return m({name:a.name,count:o.length})}}},DHBN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"GenericTypeaheadComposeWrapper",function(){return N});var r=n("SU+a"),a=(n.n(r),n("n12u")),o=(n.n(a),n("86MP")),i=n.n(o),s=n("M1I4"),c=n.n(s),u=n("fKPv"),l=n.n(u),d=n("GiK3"),p=(n.n(d),n("7c4V")),f=n("KSGD"),h=(n.n(f),n("iTco")),m=n.n(h),y=n("O27J"),_=n.n(y),v=n("KDL1"),b=n("cxKw"),g=n("MjES"),S=n.n(g),I=n("bgPG"),x=n("93uc"),E=(n.n(x),n("5Izc")),C=n.n(E),w=n("Y+mP"),R=n.n(w),D=n("jYKd"),O=n.n(D),T=n("6PFH"),k=[T.a.Users],j=[T.a.Topics],A=50,F=20,P=0,N=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,l()(c()(c()(r)),"_typeaheadActive",!1),l()(c()(c()(r)),"_dropdownDomId","typeaheadDropdownWrapped-"+P++),l()(c()(c()(r)),"_renderTypeaheadDropdown",function(e){var t=r.props,n=t.actAsUserId,a=t.contextText,o=t.isInline,i=t.onSelectItem,s=t.scribeNamespace,c=r.context.isModal,u=e.resultType===T.a.Topics?"hashtag":void 0,l=d.createElement(b.a,{actAsUserId:n,ariaDescendantId:r.state.ariaDescendantId,contextText:a,domId:r._dropdownDomId,filter:r._getFilter(e.resultType),maxTopics:8,onItemClick:i,onItemFocusChanged:r._handleItemFocusChanged,onRef:r._handleTypeaheadRef,query:e.word,source:T.d.Compose,style:r._calcStyle(),topicType:u,withItemAlwaysSelected:!0});return c||o?d.createElement(R.a.HalfSheet,null,d.createElement(I.a,{namespace:s},d.createElement(d.Fragment,null,d.createElement(S.a,{onClick:r._handleDismiss,style:U.mask}),l))):d.createElement(d.Fragment,null,d.createElement(S.a,{onClick:r._handleDismiss,style:U.mask}),l)}),l()(c()(c()(r)),"render",function(){var e=r.props,t=e.children,n=e.query,a=d.cloneElement(t,{ariaAutocomplete:"list",ariaControls:r._dropdownDomId,ariaActiveDescendant:r.state.ariaDescendantId,onChange:p.f(c()(c()(r)),"Change","InputChange"),ref:function(e){r._textInputNode=_.a.findDOMNode(e),r._textInputRef=e;var n=t.ref;n&&n(e)}});return d.createElement(S.a,{style:U.inputContainer},d.createElement(C.a,{onKeyDown:r._handleKeyDown},a,r._textInputNode&&n?r._renderTypeaheadDropdown(n):null))}),l()(c()(c()(r)),"_getFilter",function(e){return"users"===e?k:j}),l()(c()(c()(r)),"_calcStyle",function(){var e=r.context.isModal,t=r.props.isInline,n=r._textInputNode,a=window.innerHeight,o=r._textInputRef&&r._textInputRef.getTextInputHeight()||F;if(n instanceof window.HTMLElement){var i=n.getBoundingClientRect();return e||t?[r._getDropdownPositioningStyle(a,i.top,i.top+o,i.left),U.dropdownStyle]:[r._getInlinePositioningStyle(o),U.inlineStyle]}return[r._getDropdownPositioningStyle(o,0,0,0),U.dropdownStyle]}),l()(c()(c()(r)),"_handleKeyDown",function(e){var t=r.state.selectedItem,n=r.props,a=n.onSelectItem,o=n.query,i=e.key;p.e(e)&&o&&("ArrowDown"===i?(r._typeaheadRef&&r._typeaheadRef.focusNext(),e.preventDefault()):"ArrowUp"===i?(r._typeaheadRef&&r._typeaheadRef.focusPrevious(),e.preventDefault()):"Enter"===i||"Tab"===i?t&&(a(t),e.preventDefault()):"Escape"===i&&(r._handleDismiss(),e.preventDefault()))}),l()(c()(c()(r)),"_handleItemFocusChanged",function(e){return r.setState({ariaDescendantId:p.b(),selectedItem:e})}),l()(c()(c()(r)),"_handleTypeaheadRef",function(e){r._typeaheadRef=e}),l()(c()(c()(r)),"_handleDismiss",function(){r._textInputRef&&r._textInputRef.focus(),r.props.onDismiss()}),l()(c()(c()(r)),"_onInputChange",function(e){return r.setState({selectedItem:void 0}),r.props.onInputChange(e)}),l()(c()(c()(r)),"_getDropdownHeight",m()(function(e,t){var n=e*A/100;return n>t?t:n})),l()(c()(c()(r)),"_getDropdownPositioningStyle",m()(function(e,t,n,a){var o=e-n,i=t;return o/e<A/100&&i>o?{bottom:(e-t||0)+"px",left:(a||0)+"px",maxHeight:r._getDropdownHeight(e,i-10)+"px"}:{top:(n||0)+"px",left:(a||0)+"px",maxHeight:r._getDropdownHeight(e,o-10)+"px"}})),l()(c()(c()(r)),"_getInlinePositioningStyle",m()(function(e){return{position:"absolute",top:(e||0)+"px",overflowX:"hidden",overflowY:"auto"}})),r.state={ariaDescendantId:p.b()},r}return i()(t,e),t.prototype.componentDidUpdate=function(){var e=this.props,t=e.onTypeaheadStateChange,n=e.query,r=!(!this._textInputNode||!n);r!==this._typeaheadActive&&(this._typeaheadActive=r,t&&t(r))},t}(d.Component);l()(N,"contextTypes",{isModal:f.bool});var U=O.a.create(function(e){return{dropdownStyle:{backgroundColor:e.colors.cellBackground,borderRadius:e.borderRadii.medium,boxShadow:e.boxShadows.medium,minHeight:100,minWidth:"300px",position:"fixed",overflowX:"hidden",overflowY:"auto"},mask:Object.assign({},O.a.absoluteFillObject,{position:"fixed"}),inlineStyle:{backgroundColor:e.colors.cellBackground,right:0,left:0,borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,minHeight:100},inputContainer:{flexGrow:1,position:"static",width:"100%",zIndex:v.h}}});t.default=Object(I.b)({component:"compose"})(N)},L0dd:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("EuXz"),a=(n.n(r),n("GiK3")),o=(n.n(a),n("Mpbj")),i=n.n(o),s=n("ADUO"),c=n("sqR6"),u=(n("uwYN"),n("hUoQ")),l=n("KSGD"),d=(n.n(l),n("BNgD")),p=function(e){var t=e.conversation,n=e.participants,r=e.perspective,o=e.titleWeight,l=void 0===o?"bold":o,p=e.withScreenName;if(t){if(t.type===s.a.ONE_TO_ONE){var f=Object(c.a)(t,r).map(function(e){return e.user})[0];return a.createElement(u.a,{isProtected:f.protected,isVerified:f.verified,name:f.name,screenName:f.screen_name,weight:l,withLink:!1,withScreenName:p})}return a.createElement(i.a,{numberOfLines:1,weight:l},Object(d.a)(t,r))}var h=n&&n.map(function(e){return{user:e.data}});return a.createElement(i.a,{numberOfLines:1,weight:l},Object(d.b)(h,r))},f=function(e){var t=e.conversation,n=e.participants,r=e.perspective;if(t)return t.type===s.a.ONE_TO_ONE?Object(c.a)(t,r).map(function(e){return e.user})[0].name:Object(d.a)(t,r);var a=n&&n.map(function(e){return{user:e.data}});return Object(d.b)(a,r)};p.defaultProps={withScreenName:!0},t.b=p},Npsf:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("B5c8"),a=n.n(r),o=a()([]),i=a()({})},OCMv:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var r=i(n("x5lS")),a=i(n("GiK3")),o=i(n("sT3W"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 20.5 20.5"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M20.03 18.72l-3.66-3.66c1.325-1.57 2.13-3.596 2.13-5.81 0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM2 9.25c0-4.135 3.365-7.5 7.5-7.5S17 5.115 17 9.25s-3.365 7.5-7.5 7.5S2 13.385 2 9.25z"})))};s.metadata={height:20.5,width:20.5};var c=s;t.default=c},Ooal:function(e,t,n){"use strict";n.d(t,"g",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return _}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return S}),n.d(t,"c",function(){return I});var r,a=n("n12u"),o=(n.n(a),n("y9m4")),i=(n.n(o),n("ipg4")),s=n("y7g/"),c=function(e){return function(t,n,r){return r.userPersistence.set("rweb.recentSearches",{recentSearches:e}).catch(function(){Promise.resolve()})}},u=function(e,t){var n=[];if(e&&e.user){var r=e.user;n=t.filter(function(e){return e.keyword||e.user&&e.user.id!==r.id})}else if(e&&e.keyword){var a=e.keyword;n=t.filter(function(e){return e.keyword&&e.keyword.query!==a.query||e.user})}return n},l={fetched:!1,recentSearches:[]};i.a.register(((r={}).recentSearches=function(e,t){switch(void 0===e&&(e=l),t.type){case g:var n=t.payload,r=n?u(n,e.recentSearches):[];return r.length>49&&r.splice(49,1),n&&r.unshift(n),Object.assign({},e,{recentSearches:r});case y:var a=t.payload,o=a?u(a,e.recentSearches):[];return Object.assign({},e,{recentSearches:o});case v:return{fetched:!0,recentSearches:[]};case h:return Object.assign({},e,t.payload,{fetched:!0});default:return e}},r));var d=function(e){return e.recentSearches.recentSearches},p=function(e){return d(e)[0]||null},f=function(e){return e.recentSearches.fetched},h="rweb/recentSearches/INIT_FROM_CACHE",m=function(e){return{type:h,payload:e}},y="rweb/recentSearches/REMOVE_QUERY",_=function(e){return function(t,n,r){r.userPersistence;t({payload:e,type:y});var a=n().recentSearches;return Object(s.e)(n())?t(c(a.recentSearches)):Promise.resolve()}},v="rweb/recentSearches/CLEAR_ALL",b=function(){return function(e,t,n){n.userPersistence;e({type:v});var r=t().recentSearches;return Object(s.e)(t())?e(c(r.recentSearches)):Promise.resolve()}},g="rweb/recentSearches/ADD_QUERY",S=function(e){return function(t,n,r){r.userPersistence;t({payload:e,type:g});var a=n().recentSearches;return Object(s.e)(n())?t(c(a.recentSearches)):Promise.resolve()}},I=function(){return function(e,t,n){n.userPersistence;return t().recentSearches.fetched?Promise.resolve():e(function(e,t,n){var r=n.userPersistence,a=t();return Object(s.e)(a)?r.get("rweb.recentSearches").then(function(t){e(m(t))}).catch(function(){e(m())}):(e(m()),Promise.resolve())})}}},R8Av:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("86MP"),a=n.n(r),o=n("M1I4"),i=n.n(o),s=n("fKPv"),c=n.n(s),u=(n("n12u"),n("jH3T")),l=n.n(u),d=n("YybX"),p=n("GiK3"),f=n("/YPJ"),h=n.n(f),m=n("iTco"),y=n.n(m),_=n("KDL1"),v=n("O27J"),b=n.n(v),g=n("KpfV"),S=(n("uwYN"),n("cxKw")),I=n("jYKd"),x=n.n(I),E=x.a.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),C=(n("KSGD"),n("x5lS")),w=n.n(C),R=n("MjES"),D=n.n(R),O=(n("5nt5"),n("93uc")),T=n.n(O),k=n("5Izc"),j=n.n(k),A=n("VPn4"),F=n.n(A),P=n("Xwuh"),N=n.n(P),U=n("7c4V"),M=n("6PFH");n.d(t,"TypeaheadInput",function(){return H}),n.d(t,"styles",function(){return G});var L=l.a.a3e8c892,K=y()(function(e){return{bottom:0,position:"fixed",top:e+"px",transform:[{translate3d:"0,0,0"}]}}),q=function(e){return w()("form",Object.assign({},e,{action:"#",style:[E.initial,G.wrapper]}))},B=1,H=function(e){function t(t,n){var r;return r=e.call(this,t)||this,c()(i()(i()(r)),"_render",function(e){var t=e.windowWidth,n=r.props,a=n.alwaysOpen,o=n.disableClearButton,i=n.inputStyle,s=n.placeholder,c=n.rounded,u=n.shouldAutoFocus,l=n.shouldFocusOnClear,d=n.style,f=n.testID,m=r.state.showTypeaheadDropdown||a;return p.createElement(D.a,{onLayout:r._handleLayout,ref:r._setRootContainerNode,style:[G.root,d]},p.createElement(j.a,{onKeyDown:r._handleKeyDown,style:G.keydownInputListener},p.createElement(q,{accessibilityLabel:s,accessibilityRole:"search",onSubmit:r._handleFormSubmit},p.createElement(D.a,{ref:r._setInputContainerNode,style:i},p.createElement(T.a,{Icon:h.a,ariaActiveDescendant:r.state.ariaDescendantId,ariaAutocomplete:"list",ariaExpanded:m,ariaLabel:L,ariaOwns:r._dropdownDomId,ariaRole:"combobox",autoComplete:"off",autoFocus:u,focusOnClear:l,onChange:r._handleInputChange,onClear:r._handleInputClear,onFocus:r._handleInputFocus,onLayout:r._handleInputLayoutChanged,placeholder:s,ref:r._setInputRef,styleType:c?"pill":"selection",testID:f,value:r.state.query,withClearButton:!o&&r.state.showTypeaheadDropdown})),p.createElement(D.a,{style:G.typeaheadContainer},m?r._renderDropdown(t):null))))}),c()(i()(i()(r)),"_renderDropdown",function(e){var t=r.props,n=t.filter,a=t.getItemDisabledMessage,o=t.getItemIsDisabled,i=t.getTopicExactMatch,s=t.getUserExactMatch,c=t.injectedItems,u=t.isModal,l=t.maxEvents,d=t.maxTopics,f=t.renderEmptyState,h=t.selectedItems,m=t.shouldDeferPrefetch,y=t.source,_=t.withFixedPositioning,v=t.withSectionDivider,b=e>=x.a.theme.breakpoints.medium||Object(g.a)(),I=r.state,E=I.dropdownOffset,C=I.query,w=u?G.modalDropdown:[G.dropdown,!b&&_&&E?K(E):null,b&&G.wideModeDropdown],R={ariaDescendantId:r.state.ariaDescendantId,domId:r._dropdownDomId,onDismiss:r._handleOnEmptyStateDismiss,onItemFocusChanged:r._handleItemFocusChanged,onRef:r._handleEmptyStateRef,style:w};return f&&!C?f(R):p.createElement(S.a,{ariaDescendantId:r.state.ariaDescendantId,domId:r._dropdownDomId,filter:n,getItemDisabledMessage:a,getItemIsDisabled:o,getTopicExactMatch:i,getUserExactMatch:s,injectedItems:c,maxEvents:l,maxTopics:d,onItemClick:r._handleItemClick,onItemFocusChanged:r._handleItemFocusChanged,onRef:r._handleTypeaheadRef,query:r.state.query,selectedItems:h,shouldDeferPrefetch:m,source:y,style:w,withSectionDivider:v})}),c()(i()(i()(r)),"_dismissDropdown",function(){r.setState({showTypeaheadDropdown:!1}),r.props.onDismiss&&r.props.onDismiss()}),c()(i()(i()(r)),"_handleOnEmptyStateDismiss",function(){r._dismissDropdown(),r._inputRef&&r._inputRef.blur()}),c()(i()(i()(r)),"_handleLayout",function(){r._updatePosition()}),c()(i()(i()(r)),"_handleInputLayoutChanged",function(){r._updatePosition()}),c()(i()(i()(r)),"_updatePosition",function(){if(r._inputContainerNode){var e=r._inputContainerNode.getBoundingClientRect().bottom;e!==r.state.dropdownOffset&&r.setState({dropdownOffset:e})}}),c()(i()(i()(r)),"_handleTypeaheadRef",function(e){r._typeaheadRef=e}),c()(i()(i()(r)),"_handleEmptyStateRef",function(e){r._emptyStateRef=e}),c()(i()(i()(r)),"_setRootContainerNode",function(e){r._rootContainerNode=b.a.findDOMNode(e)}),c()(i()(i()(r)),"_setInputRef",function(e){r._inputRef=e}),c()(i()(i()(r)),"_setInputContainerNode",function(e){r._inputContainerNode=b.a.findDOMNode(e),r._inputContainerNode&&r._updatePosition()}),c()(i()(i()(r)),"_handleFocusChange",function(e){var t=F.a.getCount()>0;r._rootContainerNode&&r._rootContainerNode.contains(e.target)||t||r.state.showTypeaheadDropdown&&r._dismissDropdown()}),c()(i()(i()(r)),"_handleKeyDown",function(e){var t=e.key,n=r.state.showTypeaheadDropdown;if(Object(U.e)(e)){if(t===d.a)return r._focusNext(),void e.preventDefault();if(t===d.b)return r._focusPrevious(),void e.preventDefault();if(t===d.d)return r._dismissDropdown(),void e.preventDefault();if(t!==d.f)return t===d.c&&r._hasFocusedItem()?(r._selectFocusedItem(),void e.preventDefault()):void(n||r.setState({showTypeaheadDropdown:!0}));r._dismissDropdown()}}),c()(i()(i()(r)),"_handleItemFocusChanged",function(){r.setState({ariaDescendantId:Object(U.b)()})}),c()(i()(i()(r)),"_handleInputClear",function(){r.setQuery("")}),c()(i()(i()(r)),"_handleInputFocus",function(){r.setState({showTypeaheadDropdown:!0}),r._updatePosition(),r.props.onFocus&&r.props.onFocus()}),c()(i()(i()(r)),"_handleInputChange",function(e){r.setQuery(e.target.value),r._updatePosition()}),c()(i()(i()(r)),"_handleFormSubmit",function(e){e.preventDefault(),e.stopPropagation(),r._inputRef&&r._inputRef.blur(),r.setState({showTypeaheadDropdown:!1}),r.props.onDismiss&&r.props.onDismiss(),r.props.onSubmit&&r.props.onSubmit()}),c()(i()(i()(r)),"_handleItemClick",function(e,t){var n=r.props,a=n.shouldClearOnSelect,o=n.shouldFocusOnClear,i=a?"":r.state.query;r.setState({showTypeaheadDropdown:!1}),r._inputRef&&(a&&o?r._inputRef.focus():r._inputRef.blur()),r.setQuery(i),r.props.onDismiss&&r.props.onDismiss(),r.props.onItemClick(e,t)}),c()(i()(i()(r)),"_hasFocusedItem",function(){var e=r._emptyStateRef||r._typeaheadRef;return e&&e.hasFocusedItem()}),c()(i()(i()(r)),"_selectFocusedItem",function(){var e=r._emptyStateRef||r._typeaheadRef;e&&e.selectFocusedItem()}),c()(i()(i()(r)),"_focusNext",function(){var e=r._emptyStateRef||r._typeaheadRef;e&&e.focusNext()}),c()(i()(i()(r)),"_focusPrevious",function(){var e=r._emptyStateRef||r._typeaheadRef;e&&e.focusPrevious()}),r.state={ariaDescendantId:Object(U.b)(),query:t.initialValue,showTypeaheadDropdown:!1},r._dropdownDomId="typeaheadDropdown-"+B++,r}a()(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.props.initialValue!==e.initialValue&&this.setQuery(e.initialValue)},n.componentDidMount=function(){window.document.addEventListener("click",this._handleFocusChange,!0)},n.componentWillUnmount=function(){window.document.removeEventListener("click",this._handleFocusChange,!0)},n.render=function(){return p.createElement(N.a,null,this._render)},n.focus=function(){this._inputRef&&this._inputRef.focus()},n.setQuery=function(e){this.setState({query:e}),this.props.onQueryChange&&this.props.onQueryChange(e)},t}(p.Component);c()(H,"defaultProps",{disableClearButton:!1,filter:[M.a.Users,M.a.Topics],initialValue:"",withSectionDivider:!0});var G=x.a.create(function(e){return{root:{flex:1,flexDirection:"column",position:"relative",zIndex:_.d+1},typeaheadContainer:{flex:1,position:"relative"},keydownInputListener:{flex:1},dropdown:{backgroundColor:e.colors.cellBackground,left:0,right:0,overflowY:"auto",overscrollBehavior:"contain",position:"absolute",top:0,WebkitOverflowScrolling:"touch"},modalDropdown:{backgroundColor:e.colors.cellBackground,flex:1,minHeight:300,position:"relative",overflowY:"auto",overscrollBehavior:"auto",WebkitOverflowScrolling:"touch"},wideModeDropdown:{borderRadius:e.borderRadii.medium,boxShadow:e.boxShadows.medium,minHeight:100,maxHeight:"calc(80vh - "+e.componentDimensions.appBarHeight+")"},wrapper:{alignItems:"stretch",flex:1}}});t.default=H},TUQ7:function(e,t,n){"use strict";var r=n("UJiG"),a=(n.n(r),n("86MP")),o=n.n(a),i=n("SU+a"),s=(n.n(i),n("GiK3")),c=(n.n(s),n("jaZx")),u=n("ADUO"),l=n("sqR6"),d=n("+hl5"),p=n.n(d),f=n("fc63"),h=n.n(f),m=n("fQFk"),y=n.n(m),_=n("jYKd"),v=n.n(_),b=n("tQ79"),g=n.n(b),S=n("UvVB"),I=n.n(S),x=n("MjES"),E=n.n(x),C=v.a.create(function(e){return{root:{borderRadius:e.borderRadii.infinite,overflow:"hidden"},container:{height:"auto",overflow:"hidden",width:"100%"},image:{borderRadius:0}}}),w=v.a.create(function(e){return{container:{flexDirection:"row"},left:{flex:1},right:{flex:1,marginLeft:e.borderWidths.small,marginRight:"calc(-1 * "+e.borderWidths.small+")"}}}),R=v.a.create(function(e){return{container:{flexDirection:"column"},top:{flex:1,marginBottom:e.borderWidths.small},bottom:{flex:1}}}),D=function(e){var t=e.left,n=e.right;return s.createElement(E.a,{style:w.container},s.createElement(E.a,{style:w.left},t),s.createElement(E.a,{style:w.right},n))},O=function(e){var t=e.top,n=e.bottom;return s.createElement(E.a,{style:R.container},s.createElement(E.a,{style:R.top},t),s.createElement(E.a,{style:R.bottom},n))},T=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.link,n=e.conversation,r=e.perspective,a=n&&n.avatar_image_https,o=Object(l.a)(n,r).map(function(e){return e.user}),i=o.slice(0,3),c=this._avatarFromGroup(n)||this._avatarFromSrc(a)||this._avatarFromParticipants(i),u=t||this._defaultLink(n,o);return c?s.createElement(h.a,{ratio:1,style:C.root},u?s.createElement(y.a,{interactiveStyles:null,link:u},c):c):null},n._defaultLink=function(e,t){return e.type===u.a.GROUP?"/messages/"+e.conversation_id+"/participants":e.type===u.a.ONE_TO_ONE?"/"+t[0].screen_name:void 0},n._avatarFromGroup=function(e){var t=e&&e.avatar&&e.avatar.image&&e.avatar.image.original_info;return t?s.createElement(c.a,{accessibilityLabel:"",aspectMode:p.a.SQUARE,backgroundColor:v.a.theme.colors.fadedGray,image:t,rounded:!0}):null},n._avatarFromSrc=function(e){return e?s.createElement(I.a,{source:e}):null},n._avatarFromParticipants=function(e){var t=e.length;return 0===t?null:1===t?this._singleParticipantAvatar(e[0]):this._multipleParticipantAvatar(e)},n._singleParticipantAvatar=function(e){return s.createElement(E.a,{key:e.id_str,style:C.container},s.createElement(g.a,{importantForAccessibility:"no-hide-descendants",style:C.image,uri:e.profile_image_url_https}))},n._multipleParticipantAvatar=function(e){var t=e.length,n=e.map(function(e,n){var r=2===t||3===t&&0===n?.5:1;return s.createElement(E.a,{key:e.id_str,style:C.container},s.createElement(g.a,{aspectRatio:r,circle:!1,importantForAccessibility:"no-hide-descendants",style:C.image,uri:e.profile_image_url_https}))});if(2===t)return s.createElement(D,{left:n[1],right:n[0]});var r=s.createElement(O,{bottom:n[2],top:n[1]}),a=n[0];return s.createElement(D,{left:r,right:a})},t}(s.Component);t.a=T},XMIr:function(e,t,n){"use strict";n("qwQ3");var r=n("86MP"),a=n.n(r),o=n("M1I4"),i=n.n(o),s=n("fKPv"),c=n.n(s),u=n("jH3T"),l=n.n(u),d=n("GiK3"),p=n("CF/l"),f=n("xTeS"),h=n("Z1LJ"),m=n("bndy"),y=n("qX3G"),_=Object(m.createSelector)(y.b,function(e){return{loggedInUserScreenName:e&&e.screen_name}}),v=Object(h.b)(_),b=n("kXE2"),g=n("tp4B"),S=n("EU4s"),I=n.n(S),x=n("7cfd"),E=n("7q6/"),C=n("MjES"),w=n.n(C),R=n("jy84"),D=n("Mpbj"),O=n.n(D),T=n("jYKd"),k=n.n(T),j=(n("KSGD"),l.a.b92f34d0),A=l.a.h61e78de,F=new I.a,P=function(e){return e.target.tagName&&("input"===e.target.tagName.toLowerCase()||"textarea"===e.target.tagName.toLowerCase())},N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(i()(t)),"_globalShortcutsEnabled",function(){return t.props.loggedInUserScreenName&&!f.a.isTweetdeck()}),c()(i()(i()(t)),"_bindKeyboardShortcuts",function(){var e;if(t._globalShortcutsEnabled()){var n=t.props,r=n.history,a=n.loggedInUserScreenName,o=function(e){return function(t){t.preventDefault(),F._listeners.length?F.notify(e):r.push({pathname:"/explore",state:{searchFocused:!0,searchPrefill:e}})}},i=((e={})[g.a.goHome]=function(){return r.push("/home")},e[g.a.goExplore]=function(){return r.push("/explore")},e[g.a.goNotifications]=function(){return r.push("/notifications")},e[g.a.goMentions]=function(){return r.push("/notifications/mentions")},e[g.a.goProfile]=function(){return r.push("/"+a)},e[g.a.goLikes]=function(){return r.push("/"+a+"/likes")},e[g.a.goLists]=function(){return r.push("/"+a+"/lists")},e[g.a.goMessages]=function(){return r.push("/messages")},e[g.a.goSettings]=function(){return r.push("/settings")},e[g.a.newMessage]=function(){return r.push("/messages/compose")},e[g.a.newTweet]=function(){return r.push("/compose/tweet")},e[g.a.goDisplay]=function(){if(x.a.isDisplayScreenEnabled())return r.push("/i/display")},e[g.a.search]=o(),e[g.a.goBookmarks]=function(){return r.push("/i/bookmarks")},e[g.a.goToUser]=o("@"),e[g.a.openKeyboardShortcuts]=function(){return r.push("/i/keyboard_shortcuts")},e);t._unbindKeyboardShortcuts=Object(p.a)(i)}}),c()(i()(i()(t)),"_handleKeyDown",function(e){P(e)||"Backspace"!==e.key||(t._backspaceDown=Date.now(),e.preventDefault(),e.stopPropagation())}),c()(i()(i()(t)),"_handleKeyUp",function(e){if(!P(e)&&"Backspace"===e.key){e.preventDefault(),e.stopPropagation();var n=Date.now()-t._backspaceDown<500,r=Object(y.a)({},{location:t.props.location});n&&r?t.props.history.goBack():window.close()}}),t}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._bindKeyboardShortcuts(),E.a.isKaiOS()&&Object(b.a)()&&(document.addEventListener("keydown",this._handleKeyDown),document.addEventListener("keyup",this._handleKeyUp))},n.componentWillUnmount=function(){this._unbindKeyboardShortcuts&&this._unbindKeyboardShortcuts(),E.a.isKaiOS()&&Object(b.a)()&&(document.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("keyup",this._handleKeyUp))},n.render=function(){return this._globalShortcutsEnabled()?d.createElement(w.a,{accessibilityRole:"heading","aria-level":"2",style:k.a.visuallyHidden},d.createElement(O.a,null,j),d.createElement(O.a,{importantForAccessibility:"no",link:"/i/keyboard_shortcuts"},A)):null},t}(d.Component);c()(N,"registerSearchShortcutHandler",function(e){return F.subscribe(e).unsubscribe});t.a=Object(R.a)(v(N))},bMWu:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var r=i(n("x5lS")),a=i(n("GiK3")),o=i(n("sT3W"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 15 15"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M8.914 7.5l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L7.5 6.086 1.707.293c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L6.086 7.5.293 13.293c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L7.5 8.914l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L8.914 7.5z"})))};s.metadata={height:15,width:15};var c=s;t.default=c},cxKw:function(e,t,n){"use strict";var r,a=n("lt8z"),o=n.n(a),i=n("Z8+c"),s=n.n(i),c=(n("n12u"),n("86MP")),u=n.n(c),l=n("M1I4"),d=n.n(l),p=n("fKPv"),f=n.n(p),h=n("GiK3"),m=n("DTUu"),y=n.n(m),_=(n("uDYd"),n("dpqK")),v=n.n(_),b=n("sLaq"),g=n("bndy"),S=n("7c4V"),I=n("Npsf"),x=n("zAiL"),E=n("7t5w"),C=n("Z1LJ"),w=(n("y9m4"),n("VjuZ"),n("rzQm")),R=n.n(w),D=n("ARn0"),O=n("LZFh"),T=n.n(O),k=n("ipg4"),j=n("IIth"),A=n("6PFH"),F=25,P=[],N=Object(j.a)("rweb/typeaheadV2","FETCH"),U=function(e){return e.q+"_"+e.result_type+"_"+e.src},M={remoteResults:{},cachedIds:[]};var L=function(e){return e.map(function(e){var t=e.tokens,n=e.rounded_score,r=s()(e,["tokens","rounded_score"]),a=r.topic,o=r.topic_type||A.b.Topic;return{id:o+"_"+a.replace(" ","_"),type:o,tokens:t,rounded_score:n,data:r}})},K=function(e){return e.map(function(e){var t=e.tokens,n=e.rounded_score,r=s()(e,["tokens","rounded_score"]),a=r.topic_type||A.b.Event;return{id:a+"_"+r.topic.replace(" ","_"),type:a,tokens:t,rounded_score:n,data:r}})};k.a.register(((r={}).typeaheadV2=function(e,t){switch(void 0===e&&(e=M),t.type){case N.REQUEST:var n,r=t.meta.queryId;return Object.assign({},e,{remoteResults:Object.assign({},e.remoteResults,(n={},n[r]=Object.assign({},e.remoteResults[r],{fetchStatus:x.a.LOADING}),n))});case N.SUCCESS:var a,o=t.meta.queryId,i=t.payload,s=e.cachedIds.filter(function(e){return e!==o}),c=s.length>=F?T()(e.remoteResults,s.splice(0,1)):e.remoteResults,u=i.users.map(function(e){return Object(D.a)(e,A.c.Remote)});return Object.assign({},e,{cachedIds:[].concat(R()(s),[o]),remoteResults:Object.assign({},c,(a={},a[o]={fetchStatus:x.a.LOADED,id:o,orderedSections:i.ordered_sections,events:K(i.events),topics:L(i.topics),users:Object(A.e)(u),timestamp:Date.now()},a))});case N.FAILURE:var l,d=t.meta.queryId;return Object.assign({},e,{remoteResults:Object.assign({},e.remoteResults,(l={},l[d]=Object.assign({},e.remoteResults[d],{fetchStatus:x.a.FAILED}),l))});default:return e}},r));var q=function(e,t){return e.typeaheadV2.remoteResults[t]},B=function(e){return function(t,n,r){var a=r.api;if(!e||!e.q||""===e.q.trim())return Promise.resolve();var o={queryId:U(e)};return Object(j.b)(t,{params:e,request:a.Typeahead.fetch})({actionTypes:N,context:"FETCH_TYPEAHEAD",meta:o})}},H=n("kQCY"),G=[A.a.Users],W=Object(g.createSelector)(function(e,t){return t.filter||G},function(e,t){return t.query},function(e,t){return t.source},function(e,t,n){return U({q:t,result_type:e.join(","),src:n})}),V=function(e,t){return function(e,t){var n=q(e,t);return n&&n.fetchStatus}(e,W(e,t))},Q=function(e,t){return(t.rounded_graph_weight||0)-(e.rounded_graph_weight||0)},z=Object(g.createSelector)(function(e,t){return t.query},function(e,t){return t.filter},H.d,H.e,function(e,t,n,r){if(!e||!t||t.indexOf(A.a.Users)<0)return Object(I.a)();var a=Object(H.f)(n,e);return Object(A.e)(a.map(function(e){return r[e]}).sort(Q).slice(0,10))}),Y=Object(g.createSelector)(function(e,t){return function(e,t){var n=q(e,t);return n&&n.events||P}(e,W(e,t))},V,function(e,t){return t.query},function(e,t){return t.maxEvents},function(e,t){return t.filter},function(e,t,n,r,a){var o=n&&a&&a.indexOf(A.a.Events)>=0,i=e.slice(0,r||1);return i.length&&o?i:Object(I.a)()}),J=Object(g.createSelector)(function(e,t){return function(e,t){var n=q(e,t);return n&&n.topics||P}(e,W(e,t))},V,function(e,t){return t.query},function(e,t){return t.maxTopics},function(e,t){return t.getTopicExactMatch},function(e,t,n,r,a){var o=t===x.a.LOADED,i=a&&a({query:n,hasResults:!!e.length,isLoaded:o}),s=e.slice(0,r||3);return i&&s.push(i),s.length?s:Object(I.a)()}),X=Object(g.createSelector)(function(e,t){return function(e,t){var n=q(e,t);return n&&n.users||P}(e,W(e,t))},z,V,function(e,t){return t.injectedItems},function(e,t){return t.query},function(e,t){return t.getUserExactMatch},function(e,t,n,r,a,o){var i=v()(r||[],function(e){return e.type===A.b.User?e.data.id_str:void 0}),s=t.filter(function(e){return i.indexOf(e.id)<0}),c=e.filter(function(e){return i.indexOf(e.id)<0}),u=Object(S.a)(s,c).slice(0,10),l=n===x.a.LOADED,d=o&&o({query:a,hasResults:!!e.length,isLoaded:l});return d&&u.push(d),u.length?u:Object(I.a)()}),Z=Object(g.createSelector)(X,J,Y,function(e,t){return t.injectedItems},function(e,t,n,r){var a=r&&r.length?r:null;return t.length||e.length||n.length?y()([a,n.length?n:void 0,t.length?t:void 0,e.length?e:void 0]):a?[a]:Object(I.a)()}),$=Object(g.createSelector)(V,Z,function(e,t){return{fetchStatus:e,items:t}}),ee={createLocalApiErrorHandler:Object(b.b)("TYPEAHEAD_DROPDOWN_CONTAINER_CONTEXT"),fetchTypeaheadIfNeeded:function(e){return function(t,n){var r=q(n(),U(e));return r&&r.timestamp&&Date.now()-r.timestamp<=3e5?Promise.resolve():t(B(e))}},prefetchTypeaheadUsersIfNeeded:H.b,scribeAction:E.c},te=Object(C.e)($,ee),ne=n("bgPG"),re=n("NreW"),ae=n.n(re),oe=n("x3uO"),ie=n.n(oe),se=n("905J"),ce=n("WgQH"),ue=(n("uwYN"),n("4RsN")),le=n("O27J"),de=n.n(le),pe=(n("SU+a"),n("EuXz"),n("C9uT")),fe=n.n(pe),he=n("KSGD"),me=n("2rH5"),ye=n("VIKY"),_e=n("Dica"),ve=function(e,t){return t.conversationId},be={entries:{},entryIdsByConversationId:{}},ge=Object(g.createSelector)(ve,function(e,t){return Object(ye.a)(e,ve(0,t))},_e.d.selectAll,function(e,t,n){return{conversation:t&&Object(me.b)(t.data,be,n)}}),Se=Object(C.e)(ge,{}),Ie=n("TUQ7"),xe=n("L0dd"),Ee=n("/Btz"),Ce=n.n(Ee),we=n("MjES"),Re=n.n(we),De=n("J0Ct"),Oe=n.n(De),Te=n("jYKd"),ke=n.n(Te),je=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.conversation,n=e.perspective,r=e.isSelected;return t?h.createElement(Oe.a,{accessibilityRole:"button",style:Ae.root,withGutter:!0},h.createElement(Re.a,{style:Ae.avatarColumn},h.createElement(Ie.a,{conversation:t,perspective:n})),h.createElement(Re.a,{style:Ae.bodyColumn},h.createElement(xe.b,{conversation:t,perspective:n}),r?h.createElement(Ce.a,{importantForAccessibility:"no-hide-descendants",style:Ae.checkIcon}):null)):null},t}(h.Component),Ae=ke.a.create(function(e){return{root:{paddingVertical:e.spaces.small,paddingHorizontal:e.spaces.xSmall,width:"100%"},checkIcon:{color:e.colors.primary},avatarColumn:{flexGrow:1,maxWidth:e.spaces.xxLarge,minWidth:"32px"},bodyColumn:{flexGrow:7,alignItems:"center",flexDirection:"row",justifyContent:"space-between"}}}),Fe=Se(je),Pe=n("jaZx"),Ne=n("Mpbj"),Ue=n.n(Ne),Me=n("+hl5"),Le=n.n(Me),Ke=n("fc63"),qe=n.n(Ke),Be=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.image,n=e.event,r=e.supportText;return h.createElement(Re.a,{style:He.root},h.createElement(Oe.a,{withGutter:!0},h.createElement(Re.a,{style:He.bodyColumn},r?h.createElement(Ue.a,{color:"deepGray",size:"small"},r):null,h.createElement(Ue.a,{numberOfLines:1},n)),t?h.createElement(Re.a,{style:He.coverContainer},h.createElement(qe.a,{ratio:1},h.createElement(Pe.a,{accessibilityLabel:"",aspectMode:Le.a.SQUARE,image:t}))):null))},t}(h.PureComponent),He=ke.a.create(function(e){return{root:{paddingHorizontal:e.spaces.xSmall,paddingVertical:e.spaces.small},bodyColumn:{flexGrow:7,justifyContent:"center"},coverContainer:{backgroundColor:e.colors.lightGray,borderRadius:e.borderRadii.medium,flexGrow:1,justifyContent:"flex-end",maxHeight:"100px",maxWidth:"100px",overflow:"hidden",width:"25%"}}}),Ge=Be,We=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.contextText,n=e.isDisabled,r=e.topic;return h.createElement(Re.a,{style:[Ve.root,n&&Ve.disabled]},h.createElement(Ue.a,{weight:"bold",withHashflags:!0},r),t?h.createElement(Ue.a,{color:"deepGray"},t):null)},t}(h.PureComponent),Ve=ke.a.create(function(e){return{root:{paddingHorizontal:e.spaces.xSmall,paddingVertical:e.spaces.small},disabled:{backgroundColor:e.colors.faintGray}}}),Qe=We,ze=n("jH3T"),Ye=n.n(ze),Je=n("iGzH"),Xe="TypeaheadUser",Ze=n("AR34"),$e=n("hUoQ"),et=n("tQ79"),tt=n.n(et),nt=n("+BRU"),rt=n.n(nt),at=Ye.a.h740c039,ot=Ye.a.fd87318c,it=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.avatarUri,n=e.disabledMessage,r=e.isDisabled,a=e.isProtected,o=e.isSelected,i=e.isVerified,s=e.name,c=e.screenName,u=this._getSocialContext(),l=this._getResultContext(),d=u||l;return h.createElement(Re.a,{style:[st.root,r&&st.disabled,d&&st.withContext],testID:Xe},h.createElement(Oe.a,{withGutter:!0},h.createElement(Re.a,{style:st.avatarColumn},h.createElement(tt.a,{importantForAccessibility:"no-hide-descendants",style:st.avatar,uri:t})),h.createElement(Re.a,{style:st.names},h.createElement(Re.a,{style:st.namesColumn},h.createElement($e.a,{isProtected:a,isVerified:i,name:s}),r&&n?h.createElement(Ue.a,{color:"deepGray"},n):h.createElement(rt.a,{screenName:c})),o?h.createElement(Ce.a,{importantForAccessibility:"no-hide-descendants",style:st.checkIcon}):null)),d?h.createElement(Re.a,{style:st.context},h.createElement(Ze.a,{socialContext:d})):null)},n._getSocialContext=function(){var e=this.props.socialContext;if(!e||!e.following)return null;var t=e.followed_by?at:ot;return{contextType:Je.a.Follow,text:t}},n._getResultContext=function(){var e=this.props.resultContext;return e&&e.display_string&&e.types?{contextType:"num_tweets"===e.types[0].type?Je.a.NewTweets:Je.a.Follow,text:e.display_string}:null},t}(h.PureComponent),st=ke.a.create(function(e){return{root:{flexDirection:"column-reverse",paddingHorizontal:e.spaces.xSmall,paddingVertical:e.spaces.small},body:{alignItems:"center"},checkIcon:{color:e.colors.primary},withContext:{paddingTop:e.spaces.xSmall},context:{paddingBottom:e.spaces.xxSmall},disabled:{opacity:.6,backgroundColor:e.colors.faintGray},avatarColumn:{flexGrow:1,justifyContent:"flex-start",minWidth:32,maxWidth:e.spaces.xxLarge},avatar:{display:"block",width:"100%"},namesColumn:{flexDirection:"column",maxWidth:"100%"},names:{alignItems:"center",flexDirection:"row",flexGrow:7,justifyContent:"space-between"}}}),ct=it,ut=n("H/mk"),lt=n.n(ut),dt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,f()(d()(d()(t)),"_onViewRef",function(e){t._viewRef=e;var n=t.props.onRef;n&&n(e)}),f()(d()(d()(t)),"_handleClick",function(){var e=t.props.item;t.props.onClick&&t.props.onClick(e,t.isDisabled)}),t}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._loaded=!0,this._viewRef&&(this._rafId=window.requestAnimationFrame(function(){e._viewRef&&e._viewRef.setNativeProps({style:{opacity:1}})}))},n.componentWillUnmount=function(){this._rafId&&window.cancelAnimationFrame(this._rafId)},n.render=function(){var e=this.props,t=e.domId,n=e.isDisabled,r=e.isFocused,a=e.isInMultiSelect,o=e.isSelected,i=e.style;return h.createElement(lt.a,{accessibilityRole:"option","aria-checked":!(!a||!o)||void 0,"aria-selected":n?void 0:a&&o||!a&&!!r,nativeID:t,onPress:this._handleClick,style:[pt.root,r&&pt.focused,pt.transitionStyles,this._loaded&&pt.loaded,i],viewRef:this._onViewRef},this._renderResult())},n._renderResult=function(){var e=this.props,t=e.item,n=e.disabledMessage,r=e.isDisabled,a=e.isSelected;switch(t.type){case A.b.User:var o=t.data;return h.createElement(ct,{avatarUri:o.profile_image_url_https,canDm:!!o.can_dm,canMediaTag:!!o.can_media_tag,disabledMessage:n,isDisabled:r,isProtected:!!o.protected,isSelected:a,isVerified:!!o.verified,name:o.name,resultContext:o.result_context,screenName:o.screen_name,socialContext:o.social_context});case A.b.Event:var i=t.data;return h.createElement(Ge,{event:i.topic,image:i.primary_image&&i.primary_image.original_info,supportText:i.supporting_text});case A.b.Hashtag:case A.b.Topic:var s=t.data,c=s.result_context&&s.result_context.display_string;return h.createElement(Qe,{contextText:c,isDisabled:r,topic:s.topic});case A.b.DMConversation:return!!this.context.loggedInUserId&&h.createElement(Fe,{conversationId:t.id,isSelected:a,perspective:this.context.loggedInUserId});case A.b.NoResult:var u=t.data.text;return h.createElement(Ue.a,{style:pt.noResult},u);default:return null}},fe()(t,[{key:"isDisabled",get:function(){return!!this.props.isDisabled}}]),t}(h.Component);f()(dt,"contextTypes",{loggedInUserId:he.string});var pt=ke.a.create(function(e){return{root:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:1,cursor:"pointer"},noResult:{paddingHorizontal:e.spaces.xSmall,paddingVertical:e.spaces.small},loaded:{opacity:1},focused:{backgroundColor:e.colors.faintGray},transitionStyles:{transitionProperty:"opacity",transitionDuration:"250ms",opacity:0}}}),ft=dt,ht=n("Nt9F"),mt=n.n(ht),yt=n("V/VX"),_t=n.n(yt),vt=n("o5RB"),bt=function(e){function t(t,n){var r;return r=e.call(this,t)||this,f()(d()(d()(r)),"_setFocusedItemRef",function(e){var t=de.a.findDOMNode(e);r._shouldScrollToFocusedItem&&t instanceof window.Element&&(Object(vt.c)(r._getScrollParent(),t),r._shouldScrollToFocusedItem=!1)}),f()(d()(d()(r)),"_resetScroll",function(){var e=r._getScrollParent();e&&(e.scrollTop=0)}),f()(d()(d()(r)),"_handleItemClick",function(e,t){var n=r.props.onItemClick,a=r._getFlattenedItems().indexOf(e);e&&!t&&!r._shouldBlockInteractivity&&n(e,a),r._resetFocus()}),f()(d()(d()(r)),"_getResultCount",function(){return r._getFlattenedItems().length}),f()(d()(d()(r)),"_getFlattenedItems",Object(ue.a)(d()(d()(r)),function(e){return e.items},function(e){return ie()(e)})),f()(d()(d()(r)),"_setFocusIndex",function(e,t){var n=r.props.onItemFocusChanged;r._shouldScrollToFocusedItem=t,r.setState({focusIndex:e}),n&&n(r._getFlattenedItems()[e])}),f()(d()(d()(r)),"_resetFocus",function(){r._setFocusIndex(r.props.withItemAlwaysSelected?0:-1)}),f()(d()(d()(r)),"focusNext",function(){var e=r.state.focusIndex,t=r._getResultCount();if(0!==t){var n=e+1>=t?0:e+1;r._setFocusIndex(n,!0)}}),f()(d()(d()(r)),"focusPrevious",function(){var e=r.state.focusIndex,t=r._getResultCount();if(0!==t){var n=e-1<0?t-1:e-1;r._setFocusIndex(n,!0)}}),f()(d()(d()(r)),"hasFocusedItem",function(){var e=r.state.focusIndex,t=r._getFlattenedItems();return e>=0&&t.length>e}),f()(d()(d()(r)),"selectFocusedItem",function(){var e=r.state.focusIndex,t=r.props.getItemIsDisabled;if(r.hasFocusedItem()){var n=r._getFlattenedItems()[e],a=!!t&&t(n,n.data);r._handleItemClick(n,a)}}),r.state={focusIndex:t.withItemAlwaysSelected?0:-1,showProgressBar:!1},r}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._resetFocus()},n.componentWillUnmount=function(){clearTimeout(this._interactivityTimeout),clearTimeout(this._delayedProgressTimeout)},n.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.items!==this.props.items&&(this._resetFocus(),this._resetScroll()),!this.props.isLoading&&e.isLoading&&(this._delayedProgressTimeout=setTimeout(function(){return t.setState({showProgressBar:!0})},se.a)),this.props.isLoading&&!e.isLoading&&(clearTimeout(this._delayedProgressTimeout),this.setState({showProgressBar:!1}))},n.componentDidUpdate=function(e){var t=this;e.items!==this.props.items&&(this._interactivityTimeout&&clearTimeout(this._interactivityTimeout),this._shouldBlockInteractivity=!0,this._interactivityTimeout=setTimeout(function(){t._shouldBlockInteractivity=!1},500))},n.render=function(){var e=this,t=this.props,n=t.domId,r=t.isLoading,a=t.items,o=t.selectedItems,i=t.style,s=this.state.showProgressBar,c=r||a.length,u=0,l=!!o;return c?h.createElement(Re.a,{accessibilityRole:"listbox","aria-multiselectable":l,nativeID:n,style:[gt.root,i]},h.createElement(_t.a,{ariaValueText:s?"Loading results":"",indeterminate:s,style:!s&&gt.hidden}),a.length?a.map(function(t,n){var r=!Array.isArray(a[n-1])&&n>0,o=n<a.length-1,i=Array.isArray(t)?e._renderTypeaheadGroup(t,u,r,o):e._renderTypeaheadItem(t,u);return u+=Array.isArray(t)?t.length:1,i}):null):null},n._renderTypeaheadGroup=function(e,t,n,r){var a=this,o=this.props.withSectionDivider;return h.createElement(Re.a,{key:"typeaheadGroup-"+t},o&&n?h.createElement(mt.a,{key:"typeaheadDividerTop-"+t}):null,e.map(function(e,n){return a._renderTypeaheadItem(e,t+n)}),o&&r?h.createElement(mt.a,{key:"typeaheadDividerBottom-"+t}):null)},n._renderTypeaheadItem=function(e,t){var n=this.props,r=n.ariaDescendantId,a=n.getItemDisabledMessage,o=n.getItemIsDisabled,i=n.selectedItems,s=this.state.focusIndex,c=!(!i||!e.id)&&i.indexOf(e.id)>=0,u=!!i,l=s===t,d=o&&o(e,e.data),p=a&&a(e,e.data);return h.createElement(ft,{disabledMessage:p,domId:l?r:void 0,isDisabled:d,isFocused:l,isInMultiSelect:u,isSelected:c,item:e,key:"typeaheadItem-"+t+"-"+(e.id||""),onClick:this._handleItemClick,onRef:l?this._setFocusedItemRef:void 0})},n._getScrollParent=function(){if(!this._scrollParent){var e=Object(vt.a)(de.a.findDOMNode(this));this._scrollParent=e===window?null:e}return this._scrollParent},t}(h.Component),gt=ke.a.create(function(e){return{root:{},hidden:{visibility:"hidden"}}}),St=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,f()(d()(d()(r)),"_fetchTypeaheadResultsIfNeeded",function(e){e&&e.query&&e.fetchTypeaheadIfNeeded({q:e.query,src:e.source,result_type:e.filter.join(","),actAsUserId:e.actAsUserId,context_text:e.contextText,topic_type:e.topicType}).catch(e.createLocalApiErrorHandler({}))}),f()(d()(d()(r)),"_setComponentRef",function(e){r._componentRef=e}),f()(d()(d()(r)),"focusNext",function(){r._componentRef&&r._componentRef.focusNext()}),f()(d()(d()(r)),"focusPrevious",function(){r._componentRef&&r._componentRef.focusPrevious()}),f()(d()(d()(r)),"selectFocusedItem",function(){r._componentRef&&r._componentRef.selectFocusedItem()}),f()(d()(d()(r)),"hasFocusedItem",function(){return r._componentRef&&r._componentRef.hasFocusedItem()}),f()(d()(d()(r)),"_handleItemClick",function(e,t){var n=r.props,a=n.onItemClick,o=n.query,i=n.scribeAction,s=n.scribeNamespace;a(e,t),i(Object.assign({},s,{action:"click"}),{search_details:{query:o},targets:[ce.a.forTypeaheadResult(e,t)]})}),f()(d()(d()(r)),"_scribeResults",function(){var e=r.props,t=e.items,n=e.query,a=e.scribeAction,o=e.scribeNamespace,i=y()(ie()(t).map(function(e,t){return ce.a.forTypeaheadResult(e,t)}));a(Object.assign({},o,{action:"impression"}),{items:i,search_details:{query:n}})}),r._debouncedFetchTypeaheadResultsIfNeeded=ae()(r._fetchTypeaheadResultsIfNeeded,250),r.state={shouldShowPrefetchResults:!0},r}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.actAsUserId,n=e.createLocalApiErrorHandler,r=e.onRef,a=e.prefetchTypeaheadUsersIfNeeded;r&&r(this),this._debouncedFetchTypeaheadResultsIfNeeded(this.props),a({actAsUserId:t}).catch(n({}))},n.componentWillUnmount=function(){this.props.onRef&&this.props.onRef(void 0),clearTimeout(this._prefetchResultsTimer)},n.UNSAFE_componentWillReceiveProps=function(e){var t=this,n=this.props,r=n.onRef,a=n.query,o=n.filter,i=n.source,s=e.query,c=e.filter,u=e.source;r&&r!==e.onRef&&r(void 0),s===a&&c===o&&u===i||(this._debouncedFetchTypeaheadResultsIfNeeded(e),e.shouldDeferPrefetch&&(clearTimeout(this._prefetchResultsTimer),this.setState({shouldShowPrefetchResults:!1}),this._prefetchResultsTimer=setTimeout(function(){t.props.query&&t.props.fetchStatus!==x.a.LOADED&&t.setState({shouldShowPrefetchResults:!0})},se.a)))},n.componentDidUpdate=function(e){var t=this.props,n=t.onRef,r=t.items;n&&n!==e.onRef&&n(this),r&&r.length&&r!==e.items&&this._scribeResults()},n.render=function(){var e=this.props,t=(e.contextText,e.filter,e.getTopicExactMatch,e.getUserExactMatch,e.injectedItems),n=e.items,r=(e.onRef,e.onItemClick,e.query),a=(e.shouldDeferPrefetch,e.source,e.topicType,e.fetchStatus),i=(e.actAsUserId,e.createLocalApiErrorHandler,e.fetchTypeaheadIfNeeded,e.maxEvents,e.maxTopics,e.prefetchTypeaheadUsersIfNeeded,e.scribeAction,e.scribeData,e.scribeNamespace,s()(e,["contextText","filter","getTopicExactMatch","getUserExactMatch","injectedItems","items","onRef","onItemClick","query","shouldDeferPrefetch","source","topicType","fetchStatus","actAsUserId","createLocalApiErrorHandler","fetchTypeaheadIfNeeded","maxEvents","maxTopics","prefetchTypeaheadUsersIfNeeded","scribeAction","scribeData","scribeNamespace"])),c=r&&a!==x.a.LOADED,u=c&&!this.state.shouldShowPrefetchResults?t:n;return h.createElement(bt,o()({},i,{isLoading:!!c,items:u,onItemClick:this._handleItemClick,ref:this._setComponentRef}))},t}(h.Component);f()(St,"defaultProps",{filter:[A.a.Users],injectedItems:[],maxEvents:3,maxTopics:1});t.a=Object(ne.b)({element:"typeahead"})(te(St))},klNu:function(e,t,n){"use strict";var r=n("lyoc");t.a=function(e,t){var n=e.sort_event_id,a=t.sort_event_id;return n?a?Object(r.a)(a,n):1:-1}},sqR6:function(e,t,n){"use strict";n("uDYd");var r=n("rzQm"),a=n.n(r),o=n("ADUO"),i=n("rps5"),s=n.n(i),c=(n("QBuC"),n("lyoc")),u=function(e){return void 0===e&&(e=0),new Date(Number(e))},l=function(e,t){return u(e.join_time)-u(t.join_time)},d=function(e,t){var n=e.user,r=t.user;return Object(c.a)(n.id_str,r.id_str)},p=function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.map(function(t){return t(e,n)}).filter(function(e){return!!e})[0]||0}}(function(e){return function(t,n){var r=t.user,a=n.user;switch(e){case r.id_str:return-1;case a.id_str:return 1;default:return 0}}}(e),l,d)},f=n("Tttp"),h=n.n(f);t.a=function(e,t){var n=e.participants,r=e.type,i=e.created_by_user_id,c=s()(n),u=h()(c,function(e){return e.user.id_str===t}),l=u[0],d=u[1];return d.length?r===o.a.GROUP&&1===d.length?[].concat(a()(l),a()(d)):d.sort(p(i)):l}},tRvs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("EuXz");var r=n("86MP"),a=n.n(r),o=n("M1I4"),i=n.n(o),s=n("fKPv"),c=n.n(s),u=n("jH3T"),l=n.n(u),d=n("GiK3"),p="searchPeople",f=n("6PFH"),h=n("R8Av"),m=n("MjES"),y=n.n(m),_=n("/SMD"),v=n.n(_),b=n("jYKd"),g=n.n(b);n.d(t,"UserPicker",function(){return E});var S=[f.a.Users],I=l.a.g40ba985,x=l.a.f7c11d6c,E=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,c()(i()(i()(r)),"_renderSelectedUserPill",function(e){var t=r.props.withCompactPills,n=r.props.onRemove.bind(i()(i()(r)),e);return d.createElement(v.a,{accessibilityLabel:x({name:e.data.name}),compact:t,key:e.id,mode:"remove",onClick:n,style:C.selectionPill,text:e.data.name})}),c()(i()(i()(r)),"_getItemIsDisabled",function(e){var t=r.props,n=t.getItemIsDisabled;return t.preselectedUsers.indexOf(e.id)>=0||!(!n||!n(e))}),c()(i()(i()(r)),"_getItemDisabledMessage",function(e){var t=r.props,n=t.getItemDisabledMessage;return t.preselectedUsers.indexOf(e.id)>=0?null:n&&n(e)}),c()(i()(i()(r)),"_handleQueryChange",function(e){var t=r.props.onQueryChange;r.setState({query:e}),t&&t(e)}),c()(i()(i()(r)),"_handleOnSelect",function(e){var t=r.props.onSelect;t&&t(e)}),r.state={query:""},r}a()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.injections,n=e.selectedUsers,r=e.shouldAutoFocus,a=e.preselectedUsers,o=e.source,i=n.map(function(e){return e.id}).concat(a);return d.createElement(y.a,{style:C.root},n.length?this._renderSelectedUsersList():null,d.createElement(h.default,{alwaysOpen:!0,disableClearButton:!0,filter:S,getItemDisabledMessage:this._getItemDisabledMessage,getItemIsDisabled:this._getItemIsDisabled,injectedItems:t,isModal:!0,onItemClick:this._handleOnSelect,onQueryChange:this._handleQueryChange,placeholder:I,selectedItems:i,shouldAutoFocus:r,shouldClearOnSelect:!0,shouldFocusOnClear:!0,source:o,testID:p,withSectionDivider:!1}))},n._renderSelectedUsersList=function(){return d.createElement(y.a,{style:C.selectedUsersList},this.props.selectedUsers.map(this._renderSelectedUserPill))},t}(d.Component);c()(E,"defaultProps",{preselectedUsers:[],shouldAutoFocus:!0,withCompactPills:!1});var C=g.a.create(function(e){return{root:{flex:1},selectionPill:{margin:e.spaces.xxSmall},selectedUsersList:{flexDirection:"row",flexWrap:"wrap",padding:e.spaces.xxSmall}}});t.default=E}});